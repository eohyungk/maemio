<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
    <!-- Background -->
    <rect width="800" height="400" fill="#ffffff"/>
    
    <!-- Flow Steps -->
    <g transform="translate(50,50)">
        <!-- Begin -->
        <rect width="120" height="60" rx="8" fill="#2563eb" opacity="0.9"/>
        <text x="60" y="35" text-anchor="middle" fill="white" font-size="14">Begin Transaction</text>
        
        <!-- Read Phase -->
        <g transform="translate(200,0)">
            <rect width="120" height="60" rx="8" fill="#3b82f6" opacity="0.9"/>
            <text x="60" y="35" text-anchor="middle" fill="white" font-size="14">Read Phase</text>
        </g>
        
        <!-- Validation -->
        <g transform="translate(370,0)">
            <rect width="120" height="60" rx="8" fill="#1e40af" opacity="0.9"/>
            <text x="60" y="35" text-anchor="middle" fill="white" font-size="14">Validation</text>
        </g>
        
        <!-- Write Phase -->
        <g transform="translate(540,0)">
            <rect width="120" height="60" rx="8" fill="#2563eb" opacity="0.9"/>
            <text x="60" y="35" text-anchor="middle" fill="white" font-size="14">Write Phase</text>
        </g>

        <!-- Success/Fail Outcomes -->
        <g transform="translate(540,120)">
            <rect width="120" height="60" rx="8" fill="#16a34a" opacity="0.9"/>
            <text x="60" y="35" text-anchor="middle" fill="white" font-size="14">Commit</text>
        </g>
        
        <g transform="translate(370,120)">
            <rect width="120" height="60" rx="8" fill="#dc2626" opacity="0.9"/>
            <text x="60" y="35" text-anchor="middle" fill="white" font-size="14">Abort & Retry</text>
        </g>

        <!-- Arrows -->
        <g stroke="#94a3b8" stroke-width="2">
            <path d="M170,30 L200,30" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M320,30 L370,30" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M490,30 L540,30" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M600,60 L600,120" fill="none" marker-end="url(#arrowhead)"/>
            <path d="M430,60 L430,120" fill="none" marker-end="url(#arrowhead)"/>
        </g>
    </g>

    <!-- Arrow Marker -->
    <defs>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
        </marker>
    </defs>
</svg>
